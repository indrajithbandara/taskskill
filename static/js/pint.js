// Generated by CoffeeScript 1.10.0
(function() {
  var day, loading, month, task_ymd, today, year;

  task_ymd = $("#datepicker_task_ymd").val();

  if (task_ymd === "undefined") {
    today = new Date();
    year = today.getFullYear();
    month = ("0" + (today.getMonth() + 1)).slice(-2);
    day = ("0" + today.getDate()).slice(-2);
    console.log(today.getDate());
    task_ymd = year + "-" + month + "-" + day;
  }

  $("#datepicker").datepicker({
    dateFormat: "yy-mm-dd"
  }).val(task_ymd);


  /*
      メモ登録ボタンクリック時の処理
   */

  $(document).on("click", ".list-item-edit", function() {
    var task_id, task_memo;
    task_id = $(this).parent().find('.user_task_id').val();
    task_memo = $(this).parent().find('.task_memo').val();
    console.log(task_memo);
    add_user_task_memo(task_id, task_memo);
  });


  /*
      タスク削除ボタンクリック時の処理
   */

  $(document).on("click", ".list-item-delete", function() {
    var task_id, that;
    task_id = $(this).parent().find('.user_task_id').val();
    console.log(task_id);
    that = this;
    del_user_task(task_id, that);
  });


  /*
      終了チェック時の処理
   */

  $(document).on('change', '.finish_check', function() {
    var status, task_id, that;
    task_id = $(this).parent().find('.user_task_id').val();
    status = "doing";
    if ($(this).is(':checked') === true) {
      status = "finished";
    }
    that = this;
    do_user_task_status(task_id, status, that);
  });


  /*
      タスク項目クリック時の処理
   */

  $(document).on("click", ".list-item", function() {
    var target_task_id, task_item_name;
    target_task_id = $(this).find('input').val();
    task_item_name = $(this).html();
    loading(true);
    cre_user_task(target_task_id, task_item_name);
  });


  /*
      loadingを表示を制御する
   */

  loading = function(bool) {
    if (bool === true) {
      $(".loading").css('display', 'block');
    } else {
      $(".loading").css('display', 'none');
    }
  };

  window.loading = loading;

}).call(this);

//# sourceMappingURL=pint.js.map
